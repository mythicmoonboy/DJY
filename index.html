<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DJY MLBB Tournament</title>
    <style>
        :root { --red: #ff0000; --dark: #0b0b0b; --gray: #1a1a1a; }
        body { margin:0; font-family: 'Segoe UI', sans-serif; background: var(--dark); color: white; }
        
        /* Centralized Header */
        header { background: black; border-bottom: 3px solid var(--red); padding: 20px; text-align: center; }
        header h1 { margin: 0 0 15px 0; color: var(--red); text-transform: uppercase; letter-spacing: 2px; }
        nav { display: flex; justify-content: center; gap: 20px; }
        nav a { color: white; text-decoration: none; font-weight: bold; cursor: pointer; transition: 0.3s; }
        nav a:hover { color: var(--red); }

        section { display: none; padding: 40px 20px; max-width: 1400px; margin: auto; }
        section.active { display: block; }
        
        /* Home Section */
        .home-content { text-align: center; max-width: 800px; margin: auto; line-height: 1.8; }

        /* Professional Split Bracket */
        .bracket-container { display: flex; justify-content: center; align-items: center; gap: 20px; overflow-x: auto; padding: 20px; }
        .bracket-side { display: flex; gap: 20px; align-items: stretch; }
        .round { display: flex; flex-direction: column; justify-content: space-around; width: 160px; }
        .match { background: var(--gray); border-left: 3px solid var(--red); padding: 10px; margin: 10px 0; border-radius: 4px; font-size: 12px; }
        .match input { background: transparent; border: none; color: white; width: 80%; }
        
        .center-final { display: flex; flex-direction: column; align-items: center; gap: 20px; width: 250px; }
        .grand-final-box { border: 3px solid var(--red); padding: 20px; background: black; text-align: center; width: 100%; border-radius: 8px; }

        /* Admin Panels */
        .admin-box { background: var(--gray); padding: 20px; border-radius: 8px; max-width: 400px; margin: 20px auto; border: 1px solid var(--red); }
        input { width: 100%; padding: 10px; margin: 10px 0; background: #222; border: 1px solid #444; color: white; box-sizing: border-box; }
        button { width: 100%; padding: 10px; background: var(--red); color: white; border: none; font-weight: bold; cursor: pointer; border-radius: 4px; }
        
        .tournament-card { background: var(--gray); padding: 20px; border-radius: 8px; border-left: 5px solid var(--red); margin-bottom: 20px; }
    </style>
</head>
<body>

<header>
    <h1>DJY MLBB Tournament</h1>
    <nav>
        <a onclick="show('home')">Home</a>
        <a onclick="show('bracket')">Bracket</a>
        <a onclick="show('tournaments')">Tournaments</a>
        <a onclick="show('admin')">Admin</a>
    </nav>
</header>

<section id="home" class="active">
    <div class="home-content">
        <h2>About DJY</h2>
        <p>DJY is a prominent Mobile Legends: Bang Bang (MLBB) YouTuber and content creator known for his high-energy commentary and community-driven spirit. With years of experience in the Land of Dawn, DJY focuses on bridging the gap between casual players and the professional scene.</p>
        <p>Through his channel, he provides top-tier analysis, meta updates, and most importantly, a platform for aspiring players to showcase their talent through professionally organized tournaments. DJY is not just a creator; he is a pillar of the MLBB esports community.</p>
    </div>
</section>

<section id="bracket">
    <h2 style="text-align: center;">Round of 32 Professional Bracket</h2>
    <div class="bracket-container" id="bracket-ui">
        <!-- LEFT WING -->
        <div class="bracket-side" id="left-wing"></div>
        
        <!-- CENTER -->
        <div class="center-final">
            <h3 style="color: gold;">üèÜ GRAND FINAL</h3>
            <div class="grand-final-box" id="final-match">
                <div class="match"><input type="text" placeholder="Finalist 1"></div>
                <span>VS</span>
                <div class="match"><input type="text" placeholder="Finalist 2"></div>
            </div>
        </div>

        <!-- RIGHT WING -->
        <div class="bracket-side" id="right-wing" style="flex-direction: row-reverse;"></div>
    </div>
</section>

<section id="tournaments">
    <h2>Tournaments</h2>
    <div class="tournament-card">
        <h3>DJY Community Tournament Season 2</h3>
        <p><strong>Prize Pool:</strong> RM 500 + Stream Donations</p>
        <p>Join the most anticipated community clash of the season. Showcase your skills live on stream!</p>
    </div>
</section>

<section id="admin">
    <div id="login-panel" class="admin-box">
        <h3>Staff Login</h3>
        <input id="user" placeholder="Username">
        <input id="pass" type="password" placeholder="Password">
        <button onclick="login()">Login</button>
        <p id="login-msg" style="text-align:center; color:red;"></p>
    </div>

    <div id="admin-panel" class="admin-box" style="display:none;">
        <h3>Welcome, Admin</h3>
        <p>You can now edit the bracket directly.</p>
        <div id="master-only" style="display:none; border-top: 1px solid #444; padding-top: 10px;">
            <h4>Create Staff Account</h4>
            <input id="new-user" placeholder="New Username">
            <input id="new-pass" placeholder="New Password">
            <button onclick="createUser()" style="background: green;">Add Staff</button>
        </div>
        <button onclick="logout()" style="margin-top:10px; background:#444;">Logout</button>
    </div>
</section>

<script>
// --- DATA INITIALIZATION ---
let users = JSON.parse(localStorage.getItem('djy_users')) || [{u: "moonboi", p: "123", role: "master"}];
let currentUser = null;

function show(id) {
    document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

// --- AUTH SYSTEM ---
function login() {
    const u = document.getElementById("user").value;
    const p = document.getElementById("pass").value;
    const user = users.find(x => x.u === u && x.p === p);

    if(user) {
        currentUser = user;
        document.getElementById("login-panel").style.display = "none";
        document.getElementById("admin-panel").style.display = "block";
        if(user.role === "master") document.getElementById("master-only").style.display = "block";
        renderBracket();
    } else {
        document.getElementById("login-msg").innerText = "Invalid Credentials";
    }
}

function createUser() {
    const u = document.getElementById("new-user").value;
    const p = document.getElementById("new-pass").value;
    if(u && p) {
        users.push({u, p, role: "staff"});
        localStorage.setItem('djy_users', JSON.stringify(users));
        alert("Staff account created: " + u);
    }
}

function logout() {
    currentUser = null;
    location.reload();
}

// --- BRACKET SYSTEM ---
function renderBracket() {
    const leftWing = document.getElementById("left-wing");
    const rightWing = document.getElementById("right-wing");
    
    leftWing.innerHTML = "";
    rightWing.innerHTML = "";

    // Helper to build rounds
    function createRound(count, side) {
        const round = document.createElement("div");
        round.className = "round";
        for(let i=0; i<count; i++) {
            const m = document.createElement("div");
            m.className = "match";
            m.innerHTML = `<input type="text" placeholder="Team" ${!currentUser?'disabled':''}>
                           <hr style="border:0; border-top:1px solid #444">
                           <input type="text" placeholder="Team" ${!currentUser?'disabled':''}>`;
            round.appendChild(m);
        }
        return round;
    }

    // Build Left (8 matches -> 4 -> 2)
    leftWing.appendChild(createRound(8, "left"));
    leftWing.appendChild(createRound(4, "left"));
    leftWing.appendChild(createRound(2, "left"));

    // Build Right (8 matches -> 4 -> 2)
    rightWing.appendChild(createRound(8, "right"));
    rightWing.appendChild(createRound(4, "right"));
    rightWing.appendChild(createRound(2, "right"));
}

// Initial render for viewers
renderBracket();
</script>

</body>
