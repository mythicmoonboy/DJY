<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DJY MLBB Tournament</title>
<style>
body {margin:0; font-family:Arial; background:#0b0b0b; color:white;}
header {background:black; border-bottom:3px solid red; padding:15px; display:flex; justify-content:space-between; align-items:center;}
nav a {color:white; text-decoration:none; margin-left:15px; font-weight:bold; cursor:pointer;}
nav a:hover {color:red;}
section {display:none; padding:30px;}
section.active {display:block;}
h1,h2 {color:red; text-align:center;}
p {text-align:center; max-width:800px; margin:auto; line-height:1.6;}
button {background:red; color:white; border:none; padding:6px 10px; margin:4px; cursor:pointer;}
input {padding:6px; margin:4px; width:50px; text-align:center;}
.box {background:#111; border-left:4px solid red; padding:10px; margin:10px 0;}
.iframe-container iframe {border:2px solid red; margin:10px;}
footer {background:black; border-top:2px solid red; text-align:center; padding:15px; margin-top:30px;}

/* Bracket layout */
.bracket-container {display:flex; justify-content:center; gap:50px; margin-top:20px; overflow-x:auto;}
.bracket-column {display:flex; flex-direction:column; gap:20px; position:relative;}
.bracket-match {background:#1a1a1a; border:2px solid red; padding:8px; text-align:center; min-width:140px; position:relative;}
.bracket-match input {width:40px; margin-top:4px;}
.bracket-lines {position:absolute; width:2px; background:red;}
</style>
</head>
<body>

<header>
<h1>DJY MLBB Tournament</h1>
<nav>
<a onclick="show('home')">Home</a>
<a onclick="show('bracket')">Bracket</a>
<a onclick="show('tournaments')">Tournaments</a>
<a onclick="show('videos')">Videos</a>
<a onclick="show('admin')">Admin</a>
</nav>
</header>

<!-- HOME PAGE -->
<section id="home" class="active">
<h2>Who is DJY?</h2>
<p>DJY is a passionate Mobile Legends: Bang Bang content creator and tournament host known for bringing high-energy, competitive action to the community. With a strong focus on fair play and exciting matchups, DJY creates a space where both rising talents and experienced players can showcase their skills.</p>
<p>His tournaments are designed to be intense, well-organized, and entertaining—capturing the true spirit of MLBB esports.</p>
<p>Beyond tournaments, DJY is dedicated to growing the MLBB community by connecting players, teams, and fans through engaging content and events. Whether it’s hosting brackets, highlighting standout performances, or sharing match moments, DJY aims to inspire competitive growth and teamwork.</p>
<p>His platform isn’t just about winning—it’s about building a strong, united MLBB scene driven by passion and skill.</p>
</section>

<!-- BRACKET PAGE -->
<section id="bracket">
<h2>Tournament Bracket</h2>
<button onclick="generate()" id="genBtn" disabled>Generate Round of 32</button>
<div class="bracket-container">
  <div id="upper-column" class="bracket-column"></div>
  <div id="lower-column" class="bracket-column"></div>
</div>
<h3 style="text-align:center;">Grand Final</h3>
<div id="final" style="text-align:center;"></div>
</section>

<!-- TOURNAMENTS PAGE -->
<section id="tournaments">
<h2>Tournaments</h2>
<h3>Upcoming</h3>
<div class="box">DJY MLBB Season 2 – RM500</div>
<h3>Ongoing</h3>
<div class="box">DJY MLBB Season 1</div>
<h3>Completed</h3>
<div class="box">DJY Invitational Cup</div>
</section>

<!-- VIDEOS PAGE -->
<section id="videos">
<h2>DJY Videos</h2>
<div class="iframe-container" style="text-align:center;">
<iframe width="320" height="180" src="https://www.youtube.com/embed/VIDEO_ID"></iframe>
<iframe width="320" height="180" src="https://www.youtube.com/embed/VIDEO_ID"></iframe>
<p>Replace <b>VIDEO_ID</b> with DJY’s YouTube video ID.</p>
</div>
</section>

<!-- ADMIN PAGE -->
<section id="admin">
<h2>Admin Login</h2>
<input id="user" placeholder="Username">
<input id="pass" type="password" placeholder="Password">
<br>
<button onclick="login()">Login</button>
<p id="status"></p>
</section>

<footer>© 2025 DJY MLBB Tournament</footer>

<script>
// Navigation
function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

// Admin
let isAdmin = localStorage.isAdmin === "true";

// Bracket data
let upper = JSON.parse(localStorage.upper || "[]");
let lower = JSON.parse(localStorage.lower || "[]");
let final = JSON.parse(localStorage.final || "[]");

let upperDiv = document.getElementById("upper-column");
let lowerDiv = document.getElementById("lower-column");
let finalDiv = document.getElementById("final");

if(isAdmin) document.getElementById("genBtn").disabled = false;

// Admin login
function login(){
if(user.value==="moonboi" && pass.value==="moonboi"){
localStorage.isAdmin="true";
isAdmin=true;
document.getElementById("genBtn").disabled=false;
status.innerText="Admin logged in";
show("bracket");
}else{
status.innerText="Wrong login";
}
}

// Save bracket
function save(){
localStorage.upper = JSON.stringify(upper);
localStorage.lower = JSON.stringify(lower);
localStorage.final = JSON.stringify(final);
}

// Generate Round of 32
function generate(){
upper=[];
for(let i=1;i<=32;i+=2){
upper.push({a:"Team "+i, b:"Team "+(i+1), scoreA:0, scoreB:0});
}
lower=[];
final=[];
save();
render();
}

// Set score and advance winner (admin only)
function setScore(round, index){
if(!isAdmin) return alert("Admin only");
let match = round[index];
let scoreA = parseInt(prompt(`Enter score for ${match.a}:`, match.scoreA));
let scoreB = parseInt(prompt(`Enter score for ${match.b}:`, match.scoreB));
match.scoreA = isNaN(scoreA)?0:scoreA;
match.scoreB = isNaN(scoreB)?0:scoreB;
let winner = match.scoreA>=match.scoreB?match.a:match.b;
let loser = winner===match.a?match.b:match.a;

if(round===upper){
lower.push({a:loser,b:"TBD", scoreA:0, scoreB:0});
} else if(round===lower){
final.push(winner);
}
upper.splice(index,1);
save();
render();
}

// Render bracket visually
function render(){
upperDiv.innerHTML="";
lowerDiv.innerHTML="";
finalDiv.innerHTML="";

upper.forEach((m,i)=>{
upperDiv.innerHTML+=`<div class="bracket-match">${m.a} vs ${m.b}<br>Score: ${m.scoreA}-${m.scoreB}<br><button onclick="setScore(upper,${i})">Set Score</button></div>`;
});

lower.forEach((m,i)=>{
lowerDiv.innerHTML+=`<div class="bracket-match">${m.a} vs ${m.b}<br>Score: ${m.scoreA}-${m.scoreB}<br>${isAdmin?'<button onclick="setScore(lower,'+i+')">Set Score</button>':''}</div>`;
});

final.forEach(f=>{
finalDiv.innerHTML+=`<div class="bracket-match">Grand Finalist: ${f}</div>`;
});
}

render();
</script>
</body>
</html>
