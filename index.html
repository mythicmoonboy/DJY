<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DJY MLBB Tournament</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0a0a0a;
  color: white;
}

header {
  background: black;
  border-bottom: 3px solid red;
  padding: 15px 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1 { color: red; margin: 0; }

nav a {
  color: white;
  margin-left: 20px;
  text-decoration: none;
  font-weight: bold;
}

nav a:hover { color: red; }

section { padding: 40px 30px; }

h2 { color: red; }

.btn {
  background: red;
  color: white;
  padding: 10px 15px;
  border: none;
  cursor: pointer;
  border-radius: 5px;
}

.bracket {
  display: flex;
  gap: 30px;
  flex-wrap: wrap;
}

.column {
  background: #111;
  border: 2px solid red;
  border-radius: 8px;
  padding: 15px;
  min-width: 250px;
}

.match {
  background: #1b1b1b;
  padding: 10px;
  margin-bottom: 10px;
  border-left: 4px solid red;
}

.match input {
  width: 100%;
  margin-bottom: 5px;
}

.admin-panel {
  display: none;
  background: #111;
  border: 2px solid red;
  padding: 20px;
  margin-top: 20px;
}

footer {
  background: black;
  border-top: 2px solid red;
  text-align: center;
  padding: 15px;
}
</style>
</head>

<body>

<header>
  <h1>DJY MLBB</h1>
  <nav>
    <a href="#home">Home</a>
    <a href="#bracket">Bracket</a>
    <a href="#admin">Admin</a>
  </nav>
</header>

<section id="home">
  <h2>Who is DJY?</h2>
  <p>
    DJY is a Mobile Legends: Bang Bang content creator and tournament host,
    organizing competitive MLBB tournaments for the community.
  </p>
</section>

<section id="bracket">
  <h2>Double Elimination Bracket</h2>

  <div class="bracket">
    <div class="column">
      <h3>Upper Bracket</h3>
      <div id="upper"></div>
    </div>

    <div class="column">
      <h3>Lower Bracket</h3>
      <div id="lower"></div>
    </div>

    <div class="column">
      <h3>Grand Final</h3>
      <div id="final"></div>
    </div>
  </div>
</section>

<section id="admin">
  <h2>Admin Login</h2>

  <input id="username" placeholder="Username">
  <input id="password" type="password" placeholder="Password">
  <button class="btn" onclick="login()">Login</button>

  <div id="adminPanel" class="admin-panel">
    <h3>Admin Dashboard</h3>
    <button class="btn" onclick="addMatch()">Add Match</button>
    <button class="btn" onclick="reset()">Reset Tournament</button>
  </div>
</section>

<footer>
  Â© 2025 DJY MLBB Tournament
</footer>

<script>
let isAdmin = false;

let upper = JSON.parse(localStorage.getItem("upper")) || [
  {a:"Team A", b:"Team B"},
  {a:"Team C", b:"Team D"}
];
let lower = JSON.parse(localStorage.getItem("lower")) || [];
let final = JSON.parse(localStorage.getItem("final")) || [];

function save() {
  localStorage.setItem("upper", JSON.stringify(upper));
  localStorage.setItem("lower", JSON.stringify(lower));
  localStorage.setItem("final", JSON.stringify(final));
}

function render() {
  document.getElementById("upper").innerHTML = "";
  document.getElementById("lower").innerHTML = "";
  document.getElementById("final").innerHTML = "";

  upper.forEach((m,i)=>{
    document.getElementById("upper").innerHTML += matchHTML(m,i,"upper");
  });

  lower.forEach((m,i)=>{
    document.getElementById("lower").innerHTML += matchHTML(m,i,"lower");
  });

  final.forEach(m=>{
    document.getElementById("final").innerHTML += `<div class="match">${m}</div>`;
  });

  save();
}

function matchHTML(m,i,type){
  return `
  <div class="match">
    ${isAdmin ? `<input value="${m.a}" onchange="${type}[${i}].a=this.value;save()">` : m.a}
    vs
    ${isAdmin ? `<input value="${m.b}" onchange="${type}[${i}].b=this.value;save()">` : m.b}
    ${isAdmin ? `
    <button onclick="win('${type}',${i},'a')">A Wins</button>
    <button onclick="win('${type}',${i},'b')">B Wins</button>` : ``}
  </div>`;
}

function win(type,i,w){
  let match = (type==="upper"?upper:lower)[i];
  let winner = match[w];
  let loser = w==="a"?match.b:match.a;

  if(type==="upper") lower.push({a:loser,b:"TBD"});
  else final.push(winner);

  (type==="upper"?upper:lower).splice(i,1);
  render();
}

function login(){
  if(username.value==="admin" && password.value==="DJYADMIN"){
    isAdmin = true;
    adminPanel.style.display = "block";
    render();
    alert("Admin logged in");
  } else alert("Wrong login");
}

function addMatch(){
  upper.push({a:"New Team",b:"New Team"});
  render();
}

function reset(){
  localStorage.clear();
  location.reload();
}

render();
</script>

</body>
</html>
